<html>
<head>
	<title>CrunchStocks | The Coolest Site Ever</title>
	<meta content="width=device-width,maximum-scale=1.0,initial-scale=1.0,minimum-scale=1.0,user-scalable=yes,shrink-to-fit=no" name="viewport">
	<meta description="The coolest site you've ever seen.">
	<!--base href="http://localhost/Dropbox/CrunchStocks/"-->
	<link rel="stylesheet" type="text/css" href="ui/layout.css">
<style>
.fadeOut{
transition:opacity 0.6s;
opacity:0;
}

</style>
</head>
<body>
<div id="head">
	<img id="logo" src="ui/Logo.png">
	<div id="menu">
		<div class="item">
			<img src="ui/Hamburger.png" note="make this a span, wider and have a person icon">
			<div>
				<label for="joe">yo, acct here</label><input type="text" name="joe" value="username">
			</div>
		</div>
		<div class="item">
			<img src="ui/Hamburger.png" note="make this a span, wider and have a person icon">
			<div>
				<label for="joe">yo, acct here</label><input type="text" name="joe" value="username">
			</div>
		</div>
	</div>
</div>

<div id="content">

</div>
<div id="foot"><span id="tools"><img id="toolgrip" src="ui/grabber.png" draggable="false">Tools</span></div>
<script>
(function(){//A segment of Tree.js
	var D=document,F=function(){return D.createDocumentFragment()},_=Tree=function(s,t){
		var o=this,f=o.$=F(),v=o.vars={},w=o.words=[],s=s.replace(/([0-9^h]+)|>|\(|\)|\*|\'|_/g," $& ").match(/\S+/g),u=function(){g.push(F());p.push(g[++i])},g=[f],p=[f],i=0,m=[],n=1,e,k;
		for(k in s)switch(s[k]){
			case ">":p[i]=e;continue;
			//case "/":console.log("go up");continue;
			case "_":_.text(e,t.shift());continue;
			case "*":w.push(_.text(e));continue;
			case "(":m.push(n);n=1;u();continue;
			case ")":while(0<m[i-1]--)p[i-1].appendChild(g[i].cloneNode(true));--i;continue;
			default:if(s[k]>0){n=s[k];continue}do p[i].appendChild(e=_.tag(s[k]));while(--n>0);n++;
		}
	},P=_.prototype;
	_.tag=function(t,a){var e=D.createElement(t),b;for(b in a)e[b]=a[b];return e}
	_.text=function(p,t){var n=D.createTextNode(t||'');p.appendChild(n);return n}
//	_.evt=function(f){for(var g in f)for(var q=this.$.querySelectorAll(q),l=q.length,i=0;i<l;i++)q[i].addEventListener(g,f[g])}
	_.map=function(p){for(var a=arguments,l=a.length,p=a[0],i=1;i<l;i++)p=p.childNodes[a[i]];return p}//should make this a prototype of the element node//Should include textnodes???  i think children and childNodes are for that purpose: textNodes or not
	_.get=function(q,p){return (p||D).querySelector(q)}
	_.getAll=function(q,p){return (p||D).querySelector(q)}
	_.for=function(f,q,p){f.call(q instanceof Node?q:_.get(q,p))}
	_.forAll=function(f,q,p){for(var a=q instanceof HTMLCollection?q:_.getAll(q,p),l=a.length,i=0;i<l;i++)f.call(a[i])}
	P.map=function(){var o=this,a=arguments;Array.prototype.unshift.call(a,o.$);return _.map.apply(o,a)}
	P.attr=function(m,a){var e=P.map.apply(this,m),b;for(b in a)e[b]=a[b]}
	P.write=function(){for(var o=this,a=arguments,l=a.length,i=0;i<l;i++)o.words[i].nodeValue=a[i];return o.$.cloneNode(true)}
	
//	P.into=function(q){_.copyTo(D.querySelector(q),this.$)}
//	P.intoAll=function(q){for(var q=D.querySelectorAll(q),l=q.length,i=0;i<l;i++)_.copyTo(q[i],this.$)}
})();
var UI={};
(function(){
	var m=['More Info','Collapse'],s=new Tree("div>h1*p*span>a*a_",['Close']),q=Tree.get('#content'),k=['pin','flag','err'];s.map(0).className="alert";
	UI.alert=function(t,d,i,e){
		var n=s.write(t,d,m[e?1:0]),c=Tree.map(n,0);
		c.title=t;
		k.indexOf(i)<0||c.classList.add(i);
		e&&c.classList.add('expanded');
		Tree.map(n,0,2,0).addEventListener("click",function(){
			this.innerHTML=m[c.classList.contains("expanded")?0:1];
			c.classList.toggle("expanded");
		});
		Tree.map(n,0,2,1).addEventListener("click",function(){c.classList.add("fadeOut");setTimeout(function(){q.removeChild(c)},600)});
		q.appendChild(n);
	}
})();


//BREAK THIS UP INTO ui:{alert: {pin:function(),flag:func(), err:func()}}
UI.alert("PORTFOLIO UP!","This is Great News!!  Something great just happened!",'pin');
UI.alert("WARNING!!","Something bad may happen, or good, but we are unsure.  But it's not too late, do this now, and you may be safe.",'flag');
UI.alert("Browser Compatibility Failed!","This is browser is GARBAGE...Get off of Internet Explorer!!  Something bad WILL happen, and probably already has happened.  It's too late!!",'err');
</script>
</body>
</html>